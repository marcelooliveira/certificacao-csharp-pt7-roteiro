Métodos de Extensão - Teoria
==============================

Suponha que você tenha uma função denominada `Mediana` em seu código:

```
public static decimal Mediana(IQueryable origem)
{
    int contagem = origem.Count();
    var ordenado = origem.OrderBy(p => p);
    var elementoCentral_1 = ordenado.Skip((contagem - 1) / 2).First();
    var elementoCentral_2 = ordenado.Skip(contagem / 2).First();
    decimal mediana = (elementoCentral_1 + elementoCentral_2) / 2;
    return mediana;
}
```

Agora suponha que essa função `Mediana` esteja sendo usada em diversas consultas Linq, como no seguinte exemplo:

```
var vendaMediana = Mediana(contexto.NotasFiscais.Select(ag => ag.Total));
```

Agora suponha que você queira mudar a forma como a função `Mediana` é acessada no seu código, para que ela seja chamada como um método da entidade `NotasFiscais` ou de outra entidade qualquer do seu modelo Entity Framework:

```
vendaMediana = contexto.NotasFiscais.Mediana(ag => ag.Total);
```

O que seria necessário criar para que essa nova sintaxe fosse possível? Descreva de forma simples.

### Opinião do instrutor

Seria necessário reaproveitar a função já existente e criar um método de extensão chamado `Mediana`, para extender as funcionalidades da fonte de dados e adicionar essa função na lista de funções disponíveis, e assim permitir a nova sintaxe de chamada.